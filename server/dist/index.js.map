{"version":3,"sources":["../src/index.js"],"names":["process","env","JWT_SECRET","err","Error","console","error","app","use","origin","express","json","extended","get","req","res","send","post","Authentication","signup","signin","Middlewares","loginRequired","UserRouter","PORT","listen","log"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAG,CAACA,OAAO,CAACC,GAAR,CAAYC,UAAhB,EAA4B;AACxB,MAAMC,GAAG,GAAG,IAAIC,KAAJ,CAAU,6GAAV,CAAZ;AACAC,EAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACH,C,CAED;;;AACA,IAAMI,GAAG,GAAG,0BAAZ,C,CAEA;;AACA,0B,CAEA;;AACAA,GAAG,CAACC,GAAJ,CACI,sBAAK;AAAEC,EAAAA,MAAM,EAAE,CAAC,yBAAD,EAA4B,uBAA5B;AAAV,CAAL,CADJ;AAGAF,GAAG,CAACC,GAAJ,CAAQ,wBAAO,KAAP,CAAR;AACAD,GAAG,CAACC,GAAJ,CAAQE,oBAAQC,IAAR,CAAa;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAb,CAAR,E,CAEA;;AACAL,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACC,IAAJ,CAAS,MAAT,CAAd;AAAA,CAAjB;AACAT,GAAG,CAACM,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACJ,IAAJ,CAAS;AAAC,cAAU;AAAX,GAAT,CAAd;AAAA,CAAb;AACAJ,GAAG,CAACU,IAAJ,CAAS,SAAT,EAAoBC,2BAAeC,MAAnC;AACAZ,GAAG,CAACU,IAAJ,CAAS,SAAT,EAAoBC,2BAAeE,MAAnC;AACAb,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsBQ,wBAAYC,aAAlC,EAAiD,UAACR,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACC,IAAJ,CAAS,WAAT,CAAd;AAAA,CAAjD;AACAT,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBa,wBAAYC,aAA7B,EAA4CC,kBAA5C,E,CAEA;AACA;AACA;AACA;;AAEA,IAAMC,IAAI,GAAGxB,OAAO,CAACC,GAAR,CAAYuB,IAAZ,IAAoB,IAAjC;AAEAjB,GAAG,CAACkB,MAAJ,CAAWD,IAAX,EAAiB;AAAA,SAAMnB,OAAO,CAACqB,GAAR,8CAAmDF,IAAnD,cAAN;AAAA,CAAjB","sourcesContent":["import express from 'express';\nimport morgan from 'morgan';\nimport cors from 'cors';\nimport connectDB from './config';\nimport Middlewares from './api/middlewares'\nimport Authentication from './api/authentication'\nimport UserRouter from './user/router'\n\n//** Check that an environmental variable is initialized **\nif(!process.env.JWT_SECRET) {\n    const err = new Error('No JWT_SECRET in env variable, check instructions: https://github.com/samodum/base-mern#prepare-your-secret');\n    console.error(err);\n}\n\n//** Initialize express **\nconst app = express();\n\n//** Hookup Database **\nconnectDB();\n\n//** Setup App ** \napp.use(\n    cors({ origin: ['https://www.samodum.com', 'http://localhost:3000'] })\n);\napp.use(morgan('dev'));\napp.use(express.json({extended: false}))\n\n//** Define Routes **\napp.get('/ping', (req, res) => res.send('pong'))\napp.get('/', (req, res) => res.json({'source': 'https://github.com/samodum/base-mern'}))\napp.post('/signup', Authentication.signup)\napp.post('/signin', Authentication.signin)\napp.get('/auth-ping', Middlewares.loginRequired, (req, res) => res.send('connected'))\napp.use('/user', Middlewares.loginRequired, UserRouter)\n\n// app.use((err, req, res, next) => {\n//     console.log('Error:', err.message);\n//     res.status(422).json(err.message);\n// });\n\nconst PORT = process.env.PORT || 5000;\n\napp.listen(PORT, () => console.log( `\\x1b[32m`, `Server started on port ${PORT}`, `\\x1b[32m`))"],"file":"index.js"}