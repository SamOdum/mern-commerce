{"version":3,"sources":["../src/index.js"],"names":["process","env","JWT_SECRET","err","Error","console","error","app","use","origin","express","json","extended","get","req","res","send","post","Authentication","signup","signin","Middlewares","loginRequired","UserRouter","PORT","listen","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAG,CAACA,QAAQC,GAAR,CAAYC,UAAhB,EAA4B;AACxB,QAAMC,MAAM,IAAIC,KAAJ,CAAU,6GAAV,CAAZ;AACAC,YAAQC,KAAR,CAAcH,GAAd;AACH;;AAED;AACA,IAAMI,MAAM,wBAAZ;;AAEA;AACA;;AAEA;AACAA,IAAIC,GAAJ,CACI,oBAAK,EAAEC,QAAQ,CAAC,yBAAD,EAA4B,uBAA5B,CAAV,EAAL,CADJ;AAGAF,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQE,kBAAQC,IAAR,CAAa,EAACC,UAAU,KAAX,EAAb,CAAR;;AAEA;AACAL,IAAIM,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN;AAAA,WAAcA,IAAIC,IAAJ,CAAS,MAAT,CAAd;AAAA,CAAjB;AACAT,IAAIM,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,WAAcA,IAAIJ,IAAJ,CAAS,EAAC,UAAU,sCAAX,EAAT,CAAd;AAAA,CAAb;AACAJ,IAAIU,IAAJ,CAAS,SAAT,EAAoBC,yBAAeC,MAAnC;AACAZ,IAAIU,IAAJ,CAAS,SAAT,EAAoBC,yBAAeE,MAAnC;AACAb,IAAIM,GAAJ,CAAQ,YAAR,EAAsBQ,sBAAYC,aAAlC,EAAiD,UAACR,GAAD,EAAMC,GAAN;AAAA,WAAcA,IAAIC,IAAJ,CAAS,WAAT,CAAd;AAAA,CAAjD;AACAT,IAAIC,GAAJ,CAAQ,OAAR,EAAiBa,sBAAYC,aAA7B,EAA4CC,gBAA5C;;AAEA;AACA;AACA;AACA;;AAEA,IAAMC,OAAOxB,QAAQC,GAAR,CAAYuB,IAAZ,IAAoB,IAAjC;;AAEAjB,IAAIkB,MAAJ,CAAWD,IAAX,EAAiB;AAAA,WAAMnB,QAAQqB,GAAR,yCAAmDF,IAAnD,aAAN;AAAA,CAAjB","file":"index.js","sourcesContent":["import express from 'express';\nimport morgan from 'morgan';\nimport cors from 'cors';\nimport connectDB from './config';\nimport Middlewares from './api/middlewares'\nimport Authentication from './api/authentication'\nimport UserRouter from './user/router'\n\n//** Check that an environmental variable is initialized **\nif(!process.env.JWT_SECRET) {\n    const err = new Error('No JWT_SECRET in env variable, check instructions: https://github.com/samodum/base-mern#prepare-your-secret');\n    console.error(err);\n}\n\n//** Initialize express **\nconst app = express();\n\n//** Hookup Database **\nconnectDB();\n\n//** Setup App ** \napp.use(\n    cors({ origin: ['https://www.samodum.com', 'http://localhost:3000'] })\n);\napp.use(morgan('dev'));\napp.use(express.json({extended: false}))\n\n//** Define Routes **\napp.get('/ping', (req, res) => res.send('pong'))\napp.get('/', (req, res) => res.json({'source': 'https://github.com/samodum/base-mern'}))\napp.post('/signup', Authentication.signup)\napp.post('/signin', Authentication.signin)\napp.get('/auth-ping', Middlewares.loginRequired, (req, res) => res.send('connected'))\napp.use('/user', Middlewares.loginRequired, UserRouter)\n\n// app.use((err, req, res, next) => {\n//     console.log('Error:', err.message);\n//     res.status(422).json(err.message);\n// });\n\nconst PORT = process.env.PORT || 5000;\n\napp.listen(PORT, () => console.log( `\\x1b[32m`, `Server started on port ${PORT}`, `\\x1b[32m`))"]}